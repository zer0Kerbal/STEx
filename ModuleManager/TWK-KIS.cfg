// SGEx (StarGuise Experimental)
	// add stacking (stackable) to several parts in KSP.
	// add KIS settings.cfg tweakables
// FILE: 	TWK-KIS.cfg
// SUBTYPE:	ModuleManger patch file
// - 
//
// AUTHOR: zer0Kerbal
// https://github.com/zer0Kerbal/SGEx/releases
// ——————————————————————————————————————————————————
// status: β 1.0.0.7
// ——————————————————————————————————————————————————
// FOR: SGEx
// ——————————————————————————————————————————————————
// Ω Requires: Kerbal Inventory System (KIS)
// Ω Requires: 
// ——————————————————————————————————————————————————
// creation: 	
// last update:	

// *** WARNING *** this will add many patches to your load time.
 // Uncomment to add property to ALL parts
//@PART[*]:FINAL
//{
//	@description ^= :$: <color=orange>KIS stackable. </color> :
//	%MODULE[ModuleKISItem]
//	{
// 			%stackable = True
// 		}	
//}

@PART[EVAfuelLine]:NEEDS[KIS,EVATransfer]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }
}

@PART[EVAstrutline]:NEEDS[KIS,EVAStruts]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }	
}

@PART[KIS_*]:NEEDS[KIS]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }	
}

@PART[*ladder*,basicFin,airbrake1,probeCore*,fuelLine,*battery*,rtg,*solarPanel*,*antenna*,smallTank,RadialOreTank,LargeTank,MiniISRU,MiniDrill,sensor*,Goo*,structural*,*strut*,*gird*,*truss*,radPanel*,*grapple*,*leg*,*wheel*,*chute*,*light*,*Gear*,*triangle*,*tube*,*panel*]:NEEDS[KIS]
{ //telescopicLadder,telescopicLadderBay
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }	
}

@PART[KAS_*]:NEEDS[KIS,KAS]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }	
}

@PART[TacSelfDestruct,twsa_bomb]:NEEDS[KIS,TacSelfDestruct]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }
	MODULE
	{
		name = ModuleKISItem
		@useName = Use 
		@useName ^= #$../title // ITEM NAME
		usableFromEva = True
		usableFromContainer = True
		usableFromPod = True
		usableFromEditor = True
		editorItemsCategory = True
		carriable = True
		allowPartAttach = 2
		allowStaticAttach = 0
	}	
}

@PART[ConstructionPort?]:NEEDS[KIS,SimpleConstruction]
{
	@description ^= :$: <color=orange>KIS stackable. </color> :
	%MODULE[ModuleKISItem] { %stackable = True }
	MODULE
	{
		name = ModuleKISItem
		@useName = Use 
		@useName ^= #$../title // ITEM NAME
		usableFromEva = True
		usableFromContainer = True
		usableFromPod = True
		usableFromEditor = True
		editorItemsCategory = True
		carriable = True
		allowPartAttach = 2
		allowStaticAttach = 0
	}	
}

@PART[CXA_Grapple_Standoff,CXA_Grapple,CXA_Effector]:NEEDS[KIS,CoatlAerospace]
{
	%MODULE[ModuleKISItem] { %stackable = True }
	MODULE
	{
		name = ModuleKISItem
		@useName = Use 
		@useName ^= #$../title // ITEM NAME
		usableFromEva = True
		usableFromContainer = True
		usableFromPod = True
		usableFromEditor = True
		editorItemsCategory = True
		carriable = True
		allowPartAttach = 2
		allowStaticAttach = 0
	}	
}

@PART[Tac*]:NEEDS[KIS,ThunderAerospace]
{
	%MODULE[ModuleKISItem] { %stackable = True }
	MODULE
	{
		name = ModuleKISItem
		@useName = Use 
		@useName ^= #$../title // ITEM NAME
		usableFromEva = True
		usableFromContainer = True
		usableFromPod = True
		usableFromEditor = True
		editorItemsCategory = True
		carriable = True
		allowPartAttach = 2
		allowStaticAttach = 0
	}		
}

// ——————————————————————————————————————————————————
// ——— changelog ————————————————————————————————————
// ——————————————————————————————————————————————————

// v.0.0.0.7
	// added colored description suffix
	// added standard Pod Inventory (KIS settings.cfg)
	// adjusted Kerbal inventory stuff  (KIS settings.cfg)
	// added [EVATransfer]
	// Finished splitting into individual mods
	// streamlined code
	// finished adding Squad
	// add(ing) ModuleKISItem

// v.0.0.0.6
	// stable
	
// v 0.0.0.1
	// creation by zer0Kerbal
	// 
	
@KISConfig[KISConfig]:NEEDS[KIS]
{
		// Specifies default settings of every new inventory created in
		// the editor.
	@Editor
	{
		@PodInventory
		{
			// Specifies items to add to every pod's seat. To add
			// more items add more lines.
			@addToAllSeats = KIS.electricScrewdriver
			@addToAllSeats = KIS.evapropellant

			// Specifies items to add to the first pod's seat only.
			@addToTheFirstSeatOnly = KIS.evapropellant
		}
	}
	@EvaInventory
	{
		//@inventoryKey = tab
		//@rightHandKey = x
		//@helmetKey = j
		//@slotsX = 2
		@slotsY = 5
		//@slotSize = 50
		//@itemIconResolution = 128
		//@selfIconResolution = 128
		//@maxVolume = 300
		//@openSndPath = KIS/Sounds/inventoryOpen
		//@closeSndPath = KIS/Sounds/inventoryClose
	}
	@EvaPickup
	{
		//@grabKey = g	
		//@attachKey = h	
		//@redockKey = y
		//@allowPartAttach = False
		//@allowStaticAttach = False
		//@allowSnapAttach = False
		@maxDistance = 20 // 3
		@grabMaxMass = 5 //1
		//@dropSndPath = KIS/Sounds/drop
		//@attachPartSndPath = KIS/Sounds/attachPart
		//@detachPartSndPath = KIS/Sounds/detachPart
		//@attachStaticSndPath= KIS/Sounds/attachStatic
		//@detachStaticSndPath = KIS/Sounds/detachStatic
		//@draggedIconResolution = 64
	}
}
