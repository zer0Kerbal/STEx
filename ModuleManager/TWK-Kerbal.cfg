// ============================================================	
// === it is an ADVANCED Kerbal EVA suit : KIronSuit
// ==

// SGEx (StarGuise Experimental)
//
// FILE: 	TWK-Kerbal.cfg
// SUBTYPE:	Module Manager Config
// - 
//
// AUTHOR: zer0Kerbal
// https://github.com/zer0Kerbal/SGEx/releases
// ——————————————————————————————————————————————————
// status: β 1.0.0.0 *** WIP ***
// ——————————————————————————————————————————————————
// FOR: SGEx
// ——————————————————————————————————————————————————
// Ω Requires: 
// Ω Requires: 
// ——————————————————————————————————————————————————
// creation: 	
// last update:	01 Aug 18

@PART[kerbalEVA*]
{
	%asHibernation = True
	%hibernateOnWarp = True
	%hibernationMultiplier = 0.002
		
// ============================================================
// === Add suit xmitter
// ==
	MODULE[ModuleRTAntennaPassive]:NEEDS[RemoteTech]
	{
		name = ModuleRTAntennaPassive
		OmniRange = 10000 // 10km
		TRANSMITTER 
		{
			PacketInterval = 0.3
			PacketSize = 2
		}
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.055
		}
	}
	
	MODULE[ModuleSPUPassive]:NEEDS[RemoteTech]
	
// ============================================================	
// === add KOS processor, bootfile, and KOSNameTag
// ==
	MODULE[kOSProcessor]:NEEDS[kOS]
	{
		name = kOSProcessor
		bootfile = /boot/suit.boot.ks
		diskSpace = 10000
		//     @diskSpace *= #$../mass$
		ECPerBytePerSecond = 0
		ECPerInstruction = 0.000004
	}

	MODULE[KOSNameTag]:NEEDS[kOS]
	{
		%nameTag = EVA kerbal kerbalEVA command seat
	}

// ============================================================	
// === add resources to support transmitter and KOS	
// ==
	RESOURCE
	{
		name = ElectricCharge
		amount = 200
		maxAmount = 200
	}
	
	RESOURCE
	{
		name = ReservePower
		amount = 100
		maxAmount = 100
	}
	
	RESOURCE[Megajoules]:NEEDS[InterstellarFuelSwitch]
	{
		name = Megajoules
		amount = 1
		maxAmount = 3
	}

	RESOURCE
	{
		name = Ablator
		amount = 2
		maxAmount = 2
	}	
	MODULE[KSPISuperCapacitator]:NEEDS[InterstellarFuelSwitch]
	{
		name = KspiSuperCapacitator
		maxStorageCapacityMJ = 6000
		partMass = 0.01
	}
	
	MODULE[InterstellarResourceConverter]:NEEDS[InterstellarFuelSwitch]
	{
		name = InterstellarResourceConverter
		primaryResourceNames = Megajoules
		secondaryResourceNames = ElectricCharge
		maxPowerPrimary = 20000
		maxPowerSecondary = 20000
		primaryConversionCostPower = false
		secondaryConversionCostPower = false
		primaryNormalizedDensity = 1
		secondaryNormalizedDensity = 0.001
	}
	
	MODULE
	{
		name = ModuleAblator
		ablativeResource = Ablator
		lossExp = -7500
		lossConst = 0.1
		pyrolysisLossFactor = 6000
		reentryConductivity = 0.01
		ablationTempThresh = 500
		
		useChar = True
		charModuleName = shieldChar
	}
	
	MODULE
	{
		name = ModuleColorChanger
		moduleID = shieldChar
		shaderProperty = _BurnColor
		useRate = False
		toggleInEditor = False
		toggleInFlight = False
		
		redCurve
		{
			key = 0 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0
			key = 1 1
		}
		blueCurve
		{
			key = 0 0
			key = 1 1
		}
		alphaCurve
		{
			key = 0 0.8
		}
	}	
	MODULE
	{
		name = ModuleToggleCrossfeed
		crossfeedStatus = true
		toggleEditor = true
		toggleFlight = true
	}
	
// who says body heat isn't useful?	
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 0.005
		}
	}
// ============================================================	
// === it is an ADVANCED Kerbal EVA suit: so needs sensors
// ==
// 	
// MAG
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = MAG
	}
	
// GRAV	
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = GRAV
	}
	MODULE

// PRES
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = PRES
	}
	
// TEMP
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = TEMP
	}
	
// ACC
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = ACC
	}
}

// ——————————————————————————————————————————————————
// ——— changelog ————————————————————————————————————
// ——————————————————————————————————————————————————

// v.0.0.0.2
	// code cloeanup
	// add changelog
	// add file header
	// add license
	// add ModuleAblator
	// add ModuleColorChanger
	// add Ablator resource

// v 0.0.0.1
	// creation by zer0Kerbal
	// 	
	
// RESOURCE_DEFINITION
// {
  // name = KSweat
  // displayName = Kerbal Sweat
  // abbreviation = KS
  // density = 0.01
  // unitCost = 0.0
  // hsp = 42
  // flowMode = ALL_VESSEL
  // transfer = PUMP
  // isTweakable = true
  // volume = 0.1
// }
